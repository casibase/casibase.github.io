"use strict";(self.webpackChunkcasibase_website=self.webpackChunkcasibase_website||[]).push([[5049],{3905:(e,a,n)=>{n.d(a,{Zo:()=>p,kt:()=>b});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),c=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},p=function(e){var a=c(e.components);return t.createElement(l.Provider,{value:a},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,b=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return n?t.createElement(b,s(s({ref:a},p),{},{components:n})):t.createElement(b,s({ref:a},p))}));function b(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=m;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[d]="string"==typeof e?e:r,s[1]=i;for(var c=2;c<o;c++)s[c]=n[c];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4960:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var t=n(7462),r=(n(7294),n(3905));const o={title:"(Opcional) Probar con Docker",description:"Probar Casibase con Docker",keywords:["Casibase","Docker"],authors:["hsluoyz"]},s=void 0,i={unversionedId:"basic/try-with-docker",id:"basic/try-with-docker",title:"(Opcional) Probar con Docker",description:"Probar Casibase con Docker",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/basic/try-with-docker.md",sourceDirName:"basic",slug:"/basic/try-with-docker",permalink:"/es/docs/basic/try-with-docker",draft:!1,editUrl:"https://github.com/casibase/casibase-website/edit/master/docs/basic/try-with-docker.md",tags:[],version:"current",frontMatter:{title:"(Opcional) Probar con Docker",description:"Probar Casibase con Docker",keywords:["Casibase","Docker"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Instalaci\xf3n del servidor",permalink:"/es/docs/basic/server-installation"},next:{title:"Beginner Guide",permalink:"/es/docs/category/beginner-guide"}},l={},c=[{value:"Requisitos",id:"requisitos",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Sistema operativo",id:"sistema-operativo",level:3},{value:"Docker",id:"docker",level:3},{value:"Obtener las im\xe1genes",id:"obtener-las-im\xe1genes",level:2},{value:"<strong>Opci\xf3n-1</strong>: Usar la base de datos de prueba",id:"opci\xf3n-1-usar-la-base-de-datos-de-prueba",level:3},{value:"<strong>Opci\xf3n-2</strong>: Probar con docker-compose",id:"opci\xf3n-2-probar-con-docker-compose",level:3},{value:"<strong>Opci\xf3n-3</strong>: Usar directamente la imagen est\xe1ndar",id:"opci\xf3n-3-usar-directamente-la-imagen-est\xe1ndar",level:3}],p={toc:c},d="wrapper";function u(e){let{components:a,...n}=e;return(0,r.kt)(d,(0,t.Z)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"requisitos"},"Requisitos"),(0,r.kt)("h3",{id:"hardware"},"Hardware"),(0,r.kt)("p",null,"Si desea construir la imagen Docker usted mismo, aseg\xfarese de que su m\xe1quina tenga al menos ",(0,r.kt)("strong",{parentName:"p"},"2GB")," de memoria. El frontend de Casibase es un proyecto NPM basado en React. La construcci\xf3n del frontend requiere al menos ",(0,r.kt)("strong",{parentName:"p"},"2GB")," de memoria. Una memoria inferior a ",(0,r.kt)("strong",{parentName:"p"},"2GB")," puede provocar fallos en la construcci\xf3n del frontend."),(0,r.kt)("p",null,"Si solo necesita ejecutar la imagen preconstruida, aseg\xfarese de que su m\xe1quina tenga al menos ",(0,r.kt)("strong",{parentName:"p"},"100MB")," de memoria."),(0,r.kt)("h3",{id:"sistema-operativo"},"Sistema operativo"),(0,r.kt)("p",null,"Se admiten todos los sistemas operativos (Linux, Windows y macOS)."),(0,r.kt)("h3",{id:"docker"},"Docker"),(0,r.kt)("p",null,"Puede usar ",(0,r.kt)("strong",{parentName:"p"},"Docker (versi\xf3n docker-engine >= 17.05)")," en Linux o ",(0,r.kt)("strong",{parentName:"p"},"Docker Desktop")," en Windows y macOS."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker"))),(0,r.kt)("p",null,"Independientemente del sistema operativo, los usuarios deben asegurarse de tener ",(0,r.kt)("strong",{parentName:"p"},"versi\xf3n docker-engine >= 17.05"),". Esto se debe a que utilizamos la caracter\xedstica de construcci\xf3n de m\xfaltiples etapas en docker-compose.yml, que est\xe1 soportada en la versi\xf3n 17.05 y posteriores. Para m\xe1s informaci\xf3n, consulte ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/develop/develop-images/multistage-build/"},"https://docs.docker.com/develop/develop-images/multistage-build/"),"."),(0,r.kt)("p",null,"Si utiliza docker-compose, aseg\xfarese de tener ",(0,r.kt)("strong",{parentName:"p"},"versi\xf3n docker-compose >= 2.2"),". Para usuarios de Linux, tenga en cuenta que docker-compose debe instalarse por separado de docker-engine."),(0,r.kt)("h2",{id:"obtener-las-im\xe1genes"},"Obtener las im\xe1genes"),(0,r.kt)("p",null,"Proporcionamos dos im\xe1genes en DockerHub:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nombre"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Recomendaci\xf3n"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casibase-all-in-one"},"casibase-all-in-one")),(0,r.kt)("td",{parentName:"tr",align:null},"La imagen contiene Casibase y la base de datos MySQL"),(0,r.kt)("td",{parentName:"tr",align:null},"Esta imagen ya contiene una base de datos de prueba y es solo para fines de prueba")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casibase"},"casibase")),(0,r.kt)("td",{parentName:"tr",align:null},"La imagen contiene solo Casibase"),(0,r.kt)("td",{parentName:"tr",align:null},"Esta imagen puede conectarse a su propia base de datos y usarse en producci\xf3n")))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"casbin/casibase-all-in-one: esta imagen contiene el ejecutable casibase, una base de datos MySQL y todas las configuraciones necesarias. Est\xe1 dise\xf1ada para nuevos usuarios que desean probar Casibase r\xe1pidamente. Con esta imagen, puede iniciar Casibase inmediatamente con solo uno o dos comandos sin ninguna configuraci\xf3n compleja. Sin embargo, tenga en cuenta que ",(0,r.kt)("strong",{parentName:"li"},"no recomendamos")," usar esta imagen en un entorno de producci\xf3n.")),(0,r.kt)("h3",{id:"opci\xf3n-1-usar-la-base-de-datos-de-prueba"},(0,r.kt)("strong",{parentName:"h3"},"Opci\xf3n-1"),": Usar la base de datos de prueba"),(0,r.kt)("p",null,"Ejecute el contenedor exponiendo el puerto ",(0,r.kt)("inlineCode",{parentName:"p"},"14000")," al host. Si la imagen no existe en el host local, se descargar\xe1 autom\xe1ticamente."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -p 14000:14000 casbin/casibase-all-in-one\n")),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:14000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:14000"))," en su navegador. Inicie sesi\xf3n en el panel de control de Casibase con la cuenta de administrador global predeterminada: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"opci\xf3n-2-probar-con-docker-compose"},(0,r.kt)("strong",{parentName:"h3"},"Opci\xf3n-2"),": Probar con docker-compose"),(0,r.kt)("p",null,"Cree un directorio ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," en el mismo nivel de directorio que el archivo ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),". Luego, copie ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casibase/casibase/blob/master/conf/app.conf"},"app.conf")," desde Casibase. Para m\xe1s detalles sobre ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf"),", puede consultar ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"A trav\xe9s del archivo Ini"),"."),(0,r.kt)("p",null,"Utilice docker-compose para crear una base de datos separada:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up\n")),(0,r.kt)("p",null,"\xa1Eso es todo! \ud83d\udee9\ufe0f"),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:14000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:14000"))," en su navegador. Inicie sesi\xf3n en el panel de control de Casibase con la cuenta de administrador global predeterminada: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Nota: Si examina detenidamente el archivo docker-compose.yml, podr\xeda confundirse con la variable de entorno llamada \"RUNNING_IN_DOCKER\" que creamos. Cuando la base de datos 'db' se crea a trav\xe9s de docker-compose, est\xe1 disponible en el localhost de su PC, pero no en el localhost del contenedor Casibase. Para evitar problemas causados por la modificaci\xf3n de app.conf (lo que puede ser bastante dif\xedcil para los nuevos usuarios), proporcionamos esta variable de entorno y la preasignamos en docker-compose.yml. Cuando esta variable de entorno se establece en true, localhost ser\xe1 reemplazado por host.docker.internal para que Casibase pueda acceder a la base de datos.")),(0,r.kt)("h3",{id:"opci\xf3n-3-usar-directamente-la-imagen-est\xe1ndar"},(0,r.kt)("strong",{parentName:"h3"},"Opci\xf3n-3"),": Usar directamente la imagen est\xe1ndar"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Si no es conveniente montar archivos de configuraci\xf3n en el contenedor, el uso de variables de entorno tambi\xe9n puede ser una soluci\xf3n."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="example"',title:'"example"'},"\ndocker run \\\n  -e driverName=mysql \\\n  -e dataSourceName='user:password@tcp(x.x.x.x:3306)/' \\\n  -p 14000:14000 \\\n  casbin/casibase:latest\n\n"))),(0,r.kt)("p",null,"Cree ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),". Puede copiarlo desde ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casibase/casibase/blob/master/conf/app.conf"},"conf/app.conf")," de Casibase. Para m\xe1s detalles sobre ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf"),", puede consultar ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"A trav\xe9s del archivo Ini"),"."),(0,r.kt)("p",null,"Luego ejecute"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker run  -p 14000:14000 -v /folder/of/app.conf:/conf casbin/casibase:latest\n")),(0,r.kt)("p",null,"En resumen, solo necesita ",(0,r.kt)("strong",{parentName:"p"},"montar app.conf en /conf/app.conf")," e iniciar el contenedor."),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:14000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:14000"))," en su navegador. Inicie sesi\xf3n en el panel de control de Casibase con la cuenta de administrador global predeterminada: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")))}u.isMDXComponent=!0}}]);