"use strict";(self.webpackChunkcasibase_website=self.webpackChunkcasibase_website||[]).push([[6012],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(a),h=i,m=d["".concat(c,".").concat(h)]||d[h]||u[h]||r;return a?n.createElement(m,o(o({ref:t},p),{},{components:a})):n.createElement(m,o({ref:t},p))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<r;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},8007:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var n=a(7462),i=(a(7294),a(3905));const r={title:"Casibase Public API",description:"Casibase Public API",keywords:["Casibase Public API"],authors:["IsAurora6"]},o=void 0,s={unversionedId:"basic/public-api",id:"basic/public-api",title:"Casibase Public API",description:"Casibase Public API",source:"@site/docs/basic/public-api.md",sourceDirName:"basic",slug:"/basic/public-api",permalink:"/docs/basic/public-api",draft:!1,editUrl:"https://github.com/casibase/casibase-website/edit/master/docs/basic/public-api.md",tags:[],version:"current",frontMatter:{title:"Casibase Public API",description:"Casibase Public API",keywords:["Casibase Public API"],authors:["IsAurora6"]},sidebar:"tutorialSidebar",previous:{title:"(Optional) Try with Docker",permalink:"/docs/basic/try-with-docker"},next:{title:"Beginner Guide",permalink:"/docs/category/beginner-guide"}},c={},l=[{value:"How to authenticate with <code>Casibase Public API</code>",id:"how-to-authenticate-with-casibase-public-api",level:2},{value:"SDK Authentication Example (Java)",id:"sdk-authentication-example-java",level:3},{value:"1. By <code>Bearer Token</code> (Recommended)",id:"1-by-bearer-token-recommended",level:3},{value:"How to get the access token?",id:"how-to-get-the-access-token",level:4},{value:"How to authenticate?",id:"how-to-authenticate",level:4},{value:"2. By <code>Basic Auth</code>",id:"2-by-basic-auth",level:3},{value:"How to authenticate?",id:"how-to-authenticate-1",level:4},{value:"Where to find the Client ID and Secret?",id:"where-to-find-the-client-id-and-secret",level:3}],p={toc:l},d="wrapper";function u(e){let{components:t,...a}=e;return(0,i.kt)(d,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Casibase frontend web UI is a ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/SPA"},"SPA (Single-Page Application)")," developed in React. The React frontend consumes the Casibase RESTful API exposed by the Go backend code. This RESTful API is referred to as the ",(0,i.kt)("inlineCode",{parentName:"p"},"Casibase Public API"),". In other words, with HTTP calls, you can do everything just like how the Casibase web UI itself does. There's no other limitation. The API can be utilized by the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Casibase's frontend"),(0,i.kt)("li",{parentName:"ul"},"Casibase client SDKs (e.g., casibase-java-sdk)"),(0,i.kt)("li",{parentName:"ul"},"Any other customized code from the application side")),(0,i.kt)("p",null,"The full reference for the ",(0,i.kt)("inlineCode",{parentName:"p"},"Casibase Public API")," can be found on Swagger: ",(0,i.kt)("a",{parentName:"p",href:"https://ai-admin.casibase.com/swagger/index.html"},(0,i.kt)("strong",{parentName:"a"},"https://ai-admin.casibase.com/swagger")),". These Swagger docs are automatically generated using Beego's Bee tool. If you want to generate the Swagger docs by yourself, see: ",(0,i.kt)("a",{parentName:"p",href:"/docs/developer-guide/swagger/#how-to-generate-the-swagger-file"},"How to generate the swagger file")),(0,i.kt)("h2",{id:"how-to-authenticate-with-casibase-public-api"},"How to authenticate with ",(0,i.kt)("inlineCode",{parentName:"h2"},"Casibase Public API")),(0,i.kt)("p",null,"Casibase Public API supports two application-level authentication methods: ",(0,i.kt)("inlineCode",{parentName:"p"},"Bearer Token")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Basic Auth"),". The ",(0,i.kt)("inlineCode",{parentName:"p"},"Bearer Token")," method is recommended as it is more secure."),(0,i.kt)("h3",{id:"sdk-authentication-example-java"},"SDK Authentication Example (Java)"),(0,i.kt)("p",null,"To illustrate how authentication is handled in practice, here is an example from the Casibase Java SDK. The following code shows how the SDK constructs the credential for API requests. This process authenticates the SDK with application-level permissions, effectively acting as an admin."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// ...\n\n    protected void Service(Config config, AuthTypeEnum authType) throws Exception {\n        this.config = config;\n        switch (authType){\n            case BASIC:\n                this.credential = Credentials.basic(config.clientId, config.clientSecret);\n                break;\n            case BEARER:\n                String token = config.clientId + ":" + config.clientSecret;\n                this.credential = "Bearer " + DigestUtils.md5Hex(token);\n                break;\n            default:\n                throw new Exception("Invalid auth type");\n        }\n    }\n')),(0,i.kt)("p",null,"The example above demonstrates how to prepare the credential for both authentication types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"BASIC"),": It uses a helper (",(0,i.kt)("inlineCode",{parentName:"li"},"okhttp3.Credentials"),") to perform the standard Base64 encoding for Basic Authentication."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"BEARER"),": It constructs the token by taking the MD5 hash of ",(0,i.kt)("inlineCode",{parentName:"li"},"clientId:clientSecret")," (using ",(0,i.kt)("inlineCode",{parentName:"li"},"org.apache.commons.codec.digest.DigestUtils"),') and prepending the result with "Bearer ".')),(0,i.kt)("h3",{id:"1-by-bearer-token-recommended"},"1. By ",(0,i.kt)("inlineCode",{parentName:"h3"},"Bearer Token")," (Recommended)"),(0,i.kt)("p",null,"This method is more secure because it uses a static access token, which is a hashed value of your ",(0,i.kt)("inlineCode",{parentName:"p"},"clientId")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"clientSecret"),"."),(0,i.kt)("h4",{id:"how-to-get-the-access-token"},"How to get the access token?"),(0,i.kt)("p",null,"The access token is calculated using the following formula: ",(0,i.kt)("inlineCode",{parentName:"p"},'md5(clientId + ":" + clientSecret)')),(0,i.kt)("h4",{id:"how-to-authenticate"},"How to authenticate?"),(0,i.kt)("p",null,"The access token must be provided in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization")," header as a Bearer Token."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"Authorization: Bearer <The access token>\n")),(0,i.kt)("h3",{id:"2-by-basic-auth"},"2. By ",(0,i.kt)("inlineCode",{parentName:"h3"},"Basic Auth")),(0,i.kt)("p",null,"This method uses the ",(0,i.kt)("inlineCode",{parentName:"p"},"clientId")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"clientSecret")," directly for authentication. It is considered less secure because the ",(0,i.kt)("inlineCode",{parentName:"p"},"clientSecret")," might be exposed. It is supported for convenience and compatibility purposes."),(0,i.kt)("h4",{id:"how-to-authenticate-1"},"How to authenticate?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"https://en.wikipedia.org/wiki/Basic_access_authentication"},"HTTP Basic Authentication")),": This is the standard way."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'Authorization: Basic <The Base64 encoding of "clientId:clientSecret">\n')),(0,i.kt)("p",null,"If you are not familiar with Base64 encoding, you can use a library for this, as ",(0,i.kt)("inlineCode",{parentName:"p"},"HTTP Basic Authentication")," is a widely supported standard."),(0,i.kt)("h3",{id:"where-to-find-the-client-id-and-secret"},"Where to find the Client ID and Secret?"),(0,i.kt)("p",null,"Both authentication methods require a ",(0,i.kt)("inlineCode",{parentName:"p"},"clientId")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"clientSecret"),". You can find these values for your application in the Casibase configuration file: ",(0,i.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),"."))}u.isMDXComponent=!0}}]);