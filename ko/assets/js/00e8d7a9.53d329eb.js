"use strict";(self.webpackChunkcasibase_website=self.webpackChunkcasibase_website||[]).push([[5324],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(a),g=r,m=d["".concat(l,".").concat(g)]||d[g]||p[g]||i;return a?n.createElement(m,o(o({ref:t},u),{},{components:a})):n.createElement(m,o({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},7273:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const i={title:"Transactions",description:"Transaction tracking and billing integration",keywords:["transactions","Casdoor","billing","token costs"],authors:["hsluoyz"]},o=void 0,s={unversionedId:"billing/transactions",id:"billing/transactions",title:"Transactions",description:"Transaction tracking and billing integration",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/billing/transactions.md",sourceDirName:"billing",slug:"/billing/transactions",permalink:"/ko/docs/billing/transactions",draft:!1,editUrl:"https://github.com/casibase/casibase-website/edit/master/docs/billing/transactions.md",tags:[],version:"current",frontMatter:{title:"Transactions",description:"Transaction tracking and billing integration",keywords:["transactions","Casdoor","billing","token costs"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/ko/docs/billing/overview"},next:{title:"Records",permalink:"/ko/docs/category/records"}},l={},c=[{value:"Transaction Structure",id:"transaction-structure",level:2},{value:"Balance Validation",id:"balance-validation",level:2},{value:"Automatic Creation",id:"automatic-creation",level:2},{value:"Integration with Casdoor",id:"integration-with-casdoor",level:2}],u={toc:c},d="wrapper";function p(e){let{components:t,...a}=e;return(0,r.kt)(d,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Transactions connect Casibase usage to Casdoor's billing system. Each AI-generated message automatically creates a transaction record that captures the associated costs and metadata."),(0,r.kt)("h2",{id:"transaction-structure"},"Transaction Structure"),(0,r.kt)("p",null,"Transactions use a structured format to track chat interactions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Type"),": Chat identifier - links the transaction to a specific conversation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Subtype"),": Message identifier - tracks which message generated the cost"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Provider"),': Model provider name (e.g., "OpenAI", "Claude")'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Amount"),": Token cost calculated for the message")),(0,r.kt)("p",null,"This structure provides complete traceability from billing records back to the original conversations and messages. Organizations can use this data for cost analysis, usage reporting, and budget tracking across teams."),(0,r.kt)("h2",{id:"balance-validation"},"Balance Validation"),(0,r.kt)("p",null,"Before any AI processing begins, Casibase validates that you have sufficient balance to cover the estimated cost. The system asks the model provider to calculate how many tokens your question will likely consume, then checks this amount against your balance using a dry run transaction\u2014a temporary validation that doesn't actually deduct funds."),(0,r.kt)("p",null,"If the validation fails, you'll receive an error message right away and the AI won't process your request. This saves you from waiting for an AI response only to discover you can't afford it. Once validation succeeds, the AI generates your answer and a real transaction records the actual cost, which may differ slightly from the estimate based on the final response length."),(0,r.kt)("h2",{id:"automatic-creation"},"Automatic Creation"),(0,r.kt)("p",null,"Transactions are created after the AI completes your answer, ensuring that billing records stay synchronized with actual usage. You don't need to manually track or create transaction records - the system handles this automatically for every AI interaction."),(0,r.kt)("h2",{id:"integration-with-casdoor"},"Integration with Casdoor"),(0,r.kt)("p",null,"Transaction records are stored in Casdoor, enabling centralized billing management across all your applications. This integration allows organizations to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Track AI usage costs alongside other application expenses"),(0,r.kt)("li",{parentName:"ul"},"Generate unified billing reports"),(0,r.kt)("li",{parentName:"ul"},"Set up usage alerts and budgets"),(0,r.kt)("li",{parentName:"ul"},"Analyze spending patterns across different AI providers")),(0,r.kt)("p",null,"The transaction data flows seamlessly from Casibase to Casdoor, providing real-time visibility into AI usage costs without requiring manual data entry or reconciliation."))}p.isMDXComponent=!0}}]);