"use strict";(self.webpackChunkcasibase_website=self.webpackChunkcasibase_website||[]).push([[2145],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>k});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(t),u=r,k=c["".concat(l,".").concat(u)]||c[u]||m[u]||i;return t?a.createElement(k,o(o({ref:n},d),{},{components:t})):a.createElement(k,o({ref:n},d))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},1789:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=t(7462),r=(t(7294),t(3905));const i={title:"(Optional) Mit Docker ausprobieren",description:"Casibase mit Docker ausprobieren",keywords:["Casibase","Docker"],authors:["hsluoyz"]},o=void 0,s={unversionedId:"basic/try-with-docker",id:"basic/try-with-docker",title:"(Optional) Mit Docker ausprobieren",description:"Casibase mit Docker ausprobieren",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/basic/try-with-docker.md",sourceDirName:"basic",slug:"/basic/try-with-docker",permalink:"/de/docs/basic/try-with-docker",draft:!1,editUrl:"https://github.com/casibase/casibase-website/edit/master/docs/basic/try-with-docker.md",tags:[],version:"current",frontMatter:{title:"(Optional) Mit Docker ausprobieren",description:"Casibase mit Docker ausprobieren",keywords:["Casibase","Docker"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Server-Installation",permalink:"/de/docs/basic/server-installation"},next:{title:"(Optional) Try with K8s Helm",permalink:"/de/docs/basic/try-with-helm"}},l={},p=[{value:"Anforderungen",id:"anforderungen",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Betriebssystem",id:"betriebssystem",level:3},{value:"Docker",id:"docker",level:3},{value:"Images beziehen",id:"images-beziehen",level:2},{value:"<strong>Option-1</strong>: Mit Test-Datenbank",id:"option-1-mit-test-datenbank",level:3},{value:"<strong>Option-2</strong>: Mit docker-compose ausprobieren",id:"option-2-mit-docker-compose-ausprobieren",level:3},{value:"<strong>Option-3</strong>: Standard-Image direkt verwenden",id:"option-3-standard-image-direkt-verwenden",level:3}],d={toc:p},c="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(c,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"anforderungen"},"Anforderungen"),(0,r.kt)("h3",{id:"hardware"},"Hardware"),(0,r.kt)("p",null,"Wenn Sie Ihr eigenes Docker-Image bauen m\xf6chten, stellen Sie sicher, dass Ihre Maschine mindestens ",(0,r.kt)("strong",{parentName:"p"},"2GB")," Arbeitsspeicher hat. Das Frontend von Casibase ist ein React NPM-Projekt. F\xfcr den Aufbau des Frontends werden mindestens ",(0,r.kt)("strong",{parentName:"p"},"2GB")," Arbeitsspeicher ben\xf6tigt. Weniger als ",(0,r.kt)("strong",{parentName:"p"},"2GB")," Arbeitsspeicher kann zum Fehlschlagen des Frontend-Builds f\xfchren."),(0,r.kt)("p",null,"Wenn Sie nur vorgefertigte Images ausf\xfchren m\xfcssen, stellen Sie sicher, dass Ihre Maschine mindestens ",(0,r.kt)("strong",{parentName:"p"},"100MB")," Arbeitsspeicher hat."),(0,r.kt)("h3",{id:"betriebssystem"},"Betriebssystem"),(0,r.kt)("p",null,"Alle Betriebssysteme (Linux, Windows und macOS) werden unterst\xfctzt."),(0,r.kt)("h3",{id:"docker"},"Docker"),(0,r.kt)("p",null,"Sie k\xf6nnen entweder ",(0,r.kt)("strong",{parentName:"p"},"Docker (docker-engine Version >= 17.05)")," unter Linux oder ",(0,r.kt)("strong",{parentName:"p"},"Docker Desktop")," unter Windows und macOS verwenden."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker"))),(0,r.kt)("p",null,"Unabh\xe4ngig vom Betriebssystem m\xfcssen Benutzer sicherstellen, dass sie ",(0,r.kt)("strong",{parentName:"p"},"docker-engine Version >= 17.05")," haben. Dies liegt daran, dass wir die Multi-Stage-Build-Funktion in docker-compose.yml verwenden, die in Version 17.05 und h\xf6her unterst\xfctzt wird. Weitere Informationen finden Sie unter ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/develop/develop-images/multistage-build/"},"https://docs.docker.com/develop/develop-images/multistage-build/"),"."),(0,r.kt)("p",null,"Wenn Sie docker-compose verwenden, stellen Sie sicher, dass Sie ",(0,r.kt)("strong",{parentName:"p"},"docker-compose Version >= 2.2")," haben. Linux-Benutzer sollten beachten, dass docker-compose separat von docker-engine installiert werden muss."),(0,r.kt)("h2",{id:"images-beziehen"},"Images beziehen"),(0,r.kt)("p",null,"Wir bieten zwei DockerHub-Images an:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Beschreibung"),(0,r.kt)("th",{parentName:"tr",align:null},"Empfehlung"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casibase-all-in-one"},"casibase-all-in-one")),(0,r.kt)("td",{parentName:"tr",align:null},"Das Image enth\xe4lt Casibase und die MySQL-Datenbank"),(0,r.kt)("td",{parentName:"tr",align:null},"Dieses Image enth\xe4lt bereits eine Test-Datenbank und ist nur f\xfcr Testzwecke gedacht")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casibase"},"casibase")),(0,r.kt)("td",{parentName:"tr",align:null},"Das Image enth\xe4lt nur Casibase"),(0,r.kt)("td",{parentName:"tr",align:null},"Dieses Image kann mit Ihrer eigenen Datenbank verbunden und f\xfcr die Produktion verwendet werden")))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"casbin/casibase-all-in-one: Dieses Image enth\xe4lt die ausf\xfchrbare Casibase-Datei, die MySQL-Datenbank und alle notwendigen Konfigurationen. Es ist f\xfcr neue Benutzer gedacht, die Casibase schnell ausprobieren m\xf6chten. Mit diesem Image k\xf6nnen Sie Casibase sofort mit nur ein oder zwei Befehlen starten, ohne komplizierte Konfigurationen. Beachten Sie jedoch, dass wir dieses Image f\xfcr die Produktion ",(0,r.kt)("strong",{parentName:"li"},"nicht empfehlen"),".")),(0,r.kt)("h3",{id:"option-1-mit-test-datenbank"},(0,r.kt)("strong",{parentName:"h3"},"Option-1"),": Mit Test-Datenbank"),(0,r.kt)("p",null,"Exponieren Sie den Port ",(0,r.kt)("inlineCode",{parentName:"p"},"14000")," zum Host beim Ausf\xfchren des Containers. Das Image wird automatisch gezogen, wenn es auf dem lokalen Host nicht existiert."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -p 14000:14000 casbin/casibase-all-in-one\n")),(0,r.kt)("p",null,"Besuchen Sie ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:14000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:14000"))," in Ihrem Browser. Melden Sie sich mit dem Standard-Global-Admin-Konto beim Casibase-Dashboard an: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"option-2-mit-docker-compose-ausprobieren"},(0,r.kt)("strong",{parentName:"h3"},"Option-2"),": Mit docker-compose ausprobieren"),(0,r.kt)("p",null,"Erstellen Sie ein ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),"-Verzeichnis auf der gleichen Verzeichnisebene wie die ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),"-Datei. Kopieren Sie dann ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casibase/casibase/blob/master/conf/app.conf"},"app.conf")," von Casibase. Weitere Details zu ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," finden Sie unter ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via Ini-Datei"),"."),(0,r.kt)("p",null,"Below is a minimal but complete ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," example that starts a MySQL database and the Casibase service. It configures Casibase to connect to the database using MySQL. Save this file as ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," (next to a ",(0,r.kt)("inlineCode",{parentName:"p"},"conf")," folder if you want to mount a custom ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf"),")."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'services:\n  db:\n    image: mysql:8.0\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: 123456\n      MYSQL_DATABASE: casibase\n    volumes:\n      - db_data:/var/lib/mysql\n    ports:\n      - "3306:3306" # optional: expose DB to host\n\n  casibase:\n    image: casbin/casibase:latest\n    restart: unless-stopped\n    depends_on:\n      - db\n    environment:\n      # Use MySQL driver and point to the db service (service name = host)\n      - driverName=mysql\n      - dataSourceName=root:123456@tcp(db:3306)/\n    ports:\n      - "14000:14000"\n    volumes:\n      # optional: mount your configuration\n      - ./conf/app.conf:/conf/app.conf\n\nvolumes:\n  db_data:\n')),(0,r.kt)("p",null,"What does the above compose file do:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Casibase container connects to the database using the Compose service name ",(0,r.kt)("inlineCode",{parentName:"li"},"db")," (i.e. ",(0,r.kt)("inlineCode",{parentName:"li"},"db:3306"),"). When both services run in the same Docker network (default for compose), using the service name as host is the simplest and most reliable approach."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"dataSourceName")," above uses the MySQL root account for simplicity. For production use please create a dedicated DB user and a strong password."),(0,r.kt)("li",{parentName:"ul"},"Mounting ",(0,r.kt)("inlineCode",{parentName:"li"},"./conf/app.conf")," into ",(0,r.kt)("inlineCode",{parentName:"li"},"/conf/app.conf")," is optional. If you prefer environment variables, you can remove the mount and rely on the ",(0,r.kt)("inlineCode",{parentName:"li"},"driverName")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"dataSourceName")," variables."),(0,r.kt)("li",{parentName:"ul"},"If both ",(0,r.kt)("inlineCode",{parentName:"li"},"app.conf")," and environment variables are provided, the environment variables take precedence and will override the corresponding settings in app.conf.")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Casdoor"),": By default Casibase uses the hosted Casdoor instance at ",(0,r.kt)("inlineCode",{parentName:"p"},"https://door.casdoor.com")," for user authentication. If you need to manage users, applications, or customize the authentication flow, you must deploy your own Casdoor instance and update Casibase's ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," (or the equivalent environment variables) to point to your Casdoor server. You can look at ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/docs/basic/server-installation#configure-casdoor"},"Casdoor configuration"))," for more details."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"RUNNING_IN_DOCKER")),": By default ",(0,r.kt)("inlineCode",{parentName:"p"},"RUNNING_IN_DOCKER")," is enabled in docker image. When enabled, Casibase replaces ",(0,r.kt)("inlineCode",{parentName:"p"},"localhost")," with the Docker bridge address (for example, ",(0,r.kt)("inlineCode",{parentName:"p"},"host.docker.internal")," or the equivalent bridge hostname) so that the container can reach services running on the host.")),(0,r.kt)("p",null,"Bring up the services:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up -d\n")),(0,r.kt)("p",null,"Check logs (follow):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose logs -f casibase\n")),(0,r.kt)("p",null,"Besuchen Sie ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:14000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:14000"))," in Ihrem Browser. Melden Sie sich mit dem Standard-Global-Admin-Konto beim Casibase-Dashboard an: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("p",null,"Stop and remove containers and volumes (data removed):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose down -v\n")),(0,r.kt)("h3",{id:"option-3-standard-image-direkt-verwenden"},(0,r.kt)("strong",{parentName:"h3"},"Option-3"),": Standard-Image direkt verwenden"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Wenn es nicht praktisch ist, die Konfigurationsdatei im Container zu mounten, k\xf6nnen Umgebungsvariablen eine m\xf6gliche L\xf6sung sein."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="example"',title:'"example"'},"\ndocker run \\\n  -e driverName=mysql \\\n  -e dataSourceName='user:password@tcp(x.x.x.x:3306)/' \\\n  -p 14000:14000 \\\n  casbin/casibase:latest\n\n"))),(0,r.kt)("p",null,"Erstellen Sie ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),". Sie k\xf6nnen von Casibase's ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casibase/casibase/blob/master/conf/app.conf"},"conf/app.conf")," kopieren. Weitere Details zu ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," finden Sie unter ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via Ini-Datei"),"."),(0,r.kt)("p",null,"F\xfchren Sie dann aus"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker run  -p 14000:14000 -v /folder/of/app.conf:/conf casbin/casibase:latest\n")),(0,r.kt)("p",null,"Zusammenfassend m\xfcssen Sie nur ",(0,r.kt)("strong",{parentName:"p"},"app.conf nach /conf/app.conf mounten")," und den Container starten."),(0,r.kt)("p",null,"Besuchen Sie ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:14000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:14000"))," in Ihrem Browser. Melden Sie sich mit dem Standard-Global-Admin-Konto beim Casibase-Dashboard an: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")))}m.isMDXComponent=!0}}]);